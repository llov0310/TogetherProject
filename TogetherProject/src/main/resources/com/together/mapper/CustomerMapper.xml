<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.together.mapper.CustomerMapper">

	<!--  select시 셀렉트문  insert시 태그를 각자 맞는 sql문을 쓴다 -->
	
	<!-- login sql 추가 -->
	<select id="login" resultType="com.together.domain.MemberVO">
		select * from member where user_id = #{user_id} and password = #{password}
	</select>

	<insert id="signup" parameterType="com.together.domain.MemberVO">
		insert into member values 
		(#{user_id},#{password},#{ph_no},#{email},#{user_nm},sysdate,'3',#{birth_dt},MEMBER_SEQ.nextval,#{addr_ji},#{addr_dong})
	</insert>
	
	<select id="list" resultType="com.together.domain.EnterpriseVO">
		select * from enterprise 
		where (etp_addr = #{address_t otal} 
		and
		etp_cd like '%'||'h'||'%')
	</select>
	
	
	<select id="ser" resultType="com.together.domain.EnterpriseVO">
		select * from enterprise
		where etp_addr like '%'||#{toAddress}||'%'
	</select>
	
	
	<select id="info" resultType="com.together.domain.EnterpriseVO">
		select * from enterprise a, enterprise_info  b, member c 
		where a.etp_cd = b.etp_cd and c.user_id = a.user_id and b.etp_cd = #{test}
	</select>
	
</mapper>